<!DOCTYPE html>
<html xmlns:th ="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet" th:href="@{/myCustom.css}">
<title>Listagem de alunos</title>
</head>
<body>
<!-- 	<div th:if="${session.professor.id == turma.professor.id}"> -->

	<div>
		<nav class="navbar navbar-light bg-custom" id="bg-custom">
		  <a class="navbar-brand mb-0 h1 text-light" th:href="@{/professor}">Cardeneta</a>
		  <form class="form-inline">
		    <a class="btn btn-outline-light my-2 my-sm-0" th:href="@{/login}">Logout, <span th:text="${session.professor.nome}"></span></a>
		  </form>
		</nav>
		<div class="container mt-5">
		<h1>Notas</h1>
		<hr>
		<br>
		<div class="d-flex justify-content-between">
			<h3 th:text="${turma.disciplina.nome}"></h3>
			
		</div>
		<br>
		<form action="#" th:action="@{/nota/registrar-nota}" method="POST" th:object="${nota}">
		<table class="table table-hover table-stripped">
			<thead class="thead-dark">
				<tr>
					<th scope="col">Matricula</th>
					<th scope="col">Nome</th>
					<th scope="col">Notas</th>	
				</tr>
			</thead>
			<tbody>
			<tr th:each="aluno : ${alunos}">
				<td scope="row" th:text="${aluno.matricula}"></td>
				<td th:text="${aluno.nome}"></td>	
				<td th:each="nota : ${notas}">
				
<!-- 				ARRUMAR ISSO -->

					<input th:field="${turma.notas}" th:value="${aluno.id}" type="hidden">
					<input type="text" th:field="${nota.aluno}" 
					th:value="*{aluno.id}" />
				</td>	
			</tr>
			</tbody>
		</table>
		<button type="submit" class="btn btn-primary">Registrar</button>
		</form>
		</div>
	</div>
<!-- 	<div th:if="${session.professor.id != turma.professor.id}">Página Inválida</div> -->

</body>
</html>